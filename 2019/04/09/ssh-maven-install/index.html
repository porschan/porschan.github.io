<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="porschan,710437653@qq.com"><title>使用 MAVEN 搭建 SSH · chanchifeng</title><meta name="description" content="重点参考了sxjlinux的博客《idea使用Maven创建web服务，并搭建ssh框架使用tomcat运行》搭建，https://blog.csdn.net/sunxiaoju/article/details/81007709

1.我们创建一个新的项目，选择Maven，并使用Maven搭建一个w"><meta name="keywords" content="Hexo,HTML,CSS,android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">chanchifeng</a></h3><div class="description"><p>Carpet Diem</p></div></div></div><ul class="social-links"><li><a href="http://github.com/porschan"><i class="fa fa-github"></i></a></li></ul><div class="footer"></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li><li><a href="/readme">引导</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/favicon.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>使用 MAVEN 搭建 SSH</a></h3></div><div class="post-content"><div class="tip"><br><br>    重点参考了sxjlinux的博客《idea使用Maven创建web服务，并搭建ssh框架使用tomcat运行》搭建，<a href="https://blog.csdn.net/sunxiaoju/article/details/81007709" title="https://blog.csdn.net/sunxiaoju/article/details/81007709" target="_blank" rel="noopener">https://blog.csdn.net/sunxiaoju/article/details/81007709</a><br><br></div>

<p>1.我们创建一个新的项目，选择Maven，并使用Maven搭建一个web的项目，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/1.png" alt=""></p>
<p>2.在GroupId填写com.chanchifeng,在ArtifactId填写ssh-webapp,如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/2.png" alt=""></p>
<p>3.默认选择已经配置完成的idea中的maven，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/3.png" alt=""></p>
<p>4.在Project name填写ssh-webapp2,选择适合的项目路径，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/4.png" alt=""></p>
<p>5.在使用Maven创建项目的时候，idea会提醒是否自动下载Maven中的依赖，点击Enable Auto-Import,如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/5.png" alt=""></p>
<p>6.在src中，创建一个文件夹为java，并使文件夹为Sources Root 类型，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/6.png" alt=""></p>
<p>7.在main中，创建一个文件夹为resources,并使文件夹为Resources Root 类型，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/7.png" alt=""></p>
<p>8.在resources中创建jdbc.properties,如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/8.png" alt=""></p>
<p>9.在resources中创建jdbc.properties,如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/9.png" alt=""></p>
<p>10.在resource中创建applicationContext.xml，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;context:component-scan base-package=&quot;com.chanchifeng.action&quot;&gt;&lt;/context:component-scan&gt;</span><br><span class="line">    &lt;context:component-scan base-package=&quot;com.chanchifeng.service&quot;&gt;&lt;/context:component-scan&gt;</span><br><span class="line">    &lt;context:component-scan base-package=&quot;com.chanchifeng.dao&quot;&gt;&lt;/context:component-scan&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--配置使springframwork引入jdbc.properties文件，然后就可以通过$&#123;mysql.driverClassName&#125;来得到jdbc.properties文件中对应的值了--&gt;</span><br><span class="line">    &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;location&quot; value=&quot;classpath:jdbc.properties&quot;/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 设置数据源连接字符串 --&gt;</span><br><span class="line">    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;driverClass&quot; value=&quot;$&#123;mysql.driverClassName&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;jdbcUrl&quot; value=&quot;$&#123;mysql.url&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;user&quot; value=&quot;$&#123;mysql.username&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;password&quot; value=&quot;$&#123;mysql.password&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;!-- 设置数据库连接池的最大连接数 --&gt;</span><br><span class="line">        &lt;property name=&quot;maxPoolSize&quot;&gt;</span><br><span class="line">            &lt;value&gt;50&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;!-- 设置数据库连接池的最小连接数 --&gt;</span><br><span class="line">        &lt;property name=&quot;minPoolSize&quot;&gt;</span><br><span class="line">            &lt;value&gt;5&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;!-- 设置数据库连接池的初始化连接数 --&gt;</span><br><span class="line">        &lt;property name=&quot;initialPoolSize&quot;&gt;</span><br><span class="line">            &lt;value&gt;5&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;!-- 设置数据库连接池的连接最大空闲时间 --&gt;</span><br><span class="line">        &lt;property name=&quot;maxIdleTime&quot;&gt;</span><br><span class="line">            &lt;value&gt;20&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;!-- c3p0缓存Statement的数量数 --&gt;</span><br><span class="line">        &lt;property name=&quot;maxStatements&quot;&gt;</span><br><span class="line">            &lt;value&gt;50&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;!-- 当连接池里面的连接用完的时候,C3P0一下获取新的连接数 --&gt;</span><br><span class="line">        &lt;property name=&quot;acquireIncrement&quot;&gt;</span><br><span class="line">            &lt;value&gt;20&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- hibernate 管理--&gt;</span><br><span class="line">    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;</span><br><span class="line">        &lt;!-- 引用上面设置的数据源 --&gt;</span><br><span class="line">        &lt;property name=&quot;dataSource&quot;&gt;</span><br><span class="line">            &lt;ref bean=&quot;dataSource&quot;/&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">        &lt;property name=&quot;hibernateProperties&quot;&gt;</span><br><span class="line">            &lt;props&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.autoReconnect&quot;&gt;true&lt;/prop&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/prop&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;</span><br><span class="line">                &lt;!-- 解决session关闭问题 --&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/prop&gt;</span><br><span class="line">                &lt;!-- spring 和 hibernate 整合的时候默认就是使用线程的，下面这一行不用写，写了反而要报错，此外 sessionFaction，不能使用openSession</span><br><span class="line">                 既不能保存数据到数据库，还不能实现事务功能</span><br><span class="line">                 --&gt;</span><br><span class="line">                &lt;!--&lt;prop key=&quot;current_session_context_class&quot;&gt;thread&lt;/prop&gt;--&gt;</span><br><span class="line"></span><br><span class="line">                &lt;prop key=&quot;hibernate.max_fetch_depth&quot;&gt;3&lt;/prop&gt;</span><br><span class="line">                &lt;!--&lt;prop key=&quot;hibernate.connection.url&quot; &gt;jdbc:mysql://localhost:3306/webapp&lt;/prop&gt;--&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.connection.url&quot; &gt;jdbc:mysql://localhost:3306/webapp&lt;/prop&gt;</span><br><span class="line">                &lt;!--&lt;prop key=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/prop&gt;--&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/prop&gt;</span><br><span class="line">            &lt;/props&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 用注解来实现事物管理 --&gt;</span><br><span class="line">    &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>
<p>11.在resource中创建struts.xml，代码如下，如下图：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE struts PUBLIC</span><br><span class="line">        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;</span><br><span class="line">        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;struts&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 修改常量管理struts 中的action的工程，这个常量的使用，必须引入 spring和struts的整合包，不然spring无法管理struts2 Action 中的实体类--&gt;</span><br><span class="line">    &lt;constant name=&quot;struts.objectFactory&quot; value=&quot;spring&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;package name=&quot;employee&quot; extends=&quot;struts-default&quot; namespace=&quot;/&quot;&gt;</span><br><span class="line">        &lt;action name=&quot;employee_*&quot; class=&quot;employeeAction&quot; method=&quot;&#123;1&#125;&quot;&gt;</span><br><span class="line">            &lt;result name=&quot;success&quot;&gt;/index.jsp&lt;/result&gt;</span><br><span class="line">            &lt;allowed-methods&gt;m1,saveUser&lt;/allowed-methods&gt;&lt;!-- struts 2.5 之后，使用通配符必须加上这一行 ，否则无法使用通配符访问--&gt;</span><br><span class="line">        &lt;/action&gt;</span><br><span class="line">    &lt;/package&gt;</span><br><span class="line"></span><br><span class="line">&lt;/struts&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/04/09/ssh-maven-install/11.png" alt=""></p>
<p>12.在java中，创建com.chanchifeng.action.EmployeeAction的java文件,代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">@Controller(&quot;employeeAction&quot;)</span><br><span class="line">@Scope(&quot;prototype&quot;)</span><br><span class="line">public class EmployeeAction extends ActionSupport &#123;</span><br><span class="line"></span><br><span class="line">    private Employee employee;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    private EmployeeService employeeService;</span><br><span class="line"></span><br><span class="line">    public Employee getEmployee()&#123;</span><br><span class="line">        return employee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String m1()&#123;</span><br><span class="line">        System.out.println(&quot;in this&quot;);</span><br><span class="line">        employee = employeeService.getEmployee(1);</span><br><span class="line">        System.out.println(employee);</span><br><span class="line">        return SUCCESS;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String saveEmployee()&#123;</span><br><span class="line">        Employee employee = new Employee();</span><br><span class="line">        employee.setLastName(&quot;porschan&quot;);</span><br><span class="line">        employeeService.saveEmployee(employee);</span><br><span class="line">        return SUCCESS;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>13.在java中，创建com.chanchifeng.dao.impl.EmployeeDaoImpl的java文件，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Repository(&quot;employeeDao&quot;)</span><br><span class="line">public class EmployeeDaoImpl implements EmployeeDao &#123;</span><br><span class="line"></span><br><span class="line">    @Resource(name=&quot;sessionFactory&quot;)</span><br><span class="line">    private SessionFactory sessionFactory;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Employee getEmployee(Integer id) &#123;</span><br><span class="line">        Session session=sessionFactory.getCurrentSession();</span><br><span class="line">        return session.get(Employee.class,id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void saveEmployee(Employee employee) &#123;</span><br><span class="line">        Session session=sessionFactory.getCurrentSession();</span><br><span class="line">        session.save(employee);</span><br><span class="line">        System.out.println(&quot;=======&quot;+employee.getLastName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>14.在java中，创建com.chanchifeng.dao.EmployeeDao的java文件，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public interface EmployeeDao &#123;</span><br><span class="line">    /**</span><br><span class="line">     *</span><br><span class="line">     * 获取雇员信息</span><br><span class="line">     *</span><br><span class="line">     * @param id</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    Employee getEmployee(Integer id);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 保存雇员信息</span><br><span class="line">     *</span><br><span class="line">     * @param employee</span><br><span class="line">     */</span><br><span class="line">    void saveEmployee(Employee employee);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>15.在java中，创建com.chanchifeng.model的包，代码如下：</p>
<p>16.在java中，创建com.chanchifeng.service.impl.EmployeeServiceImpl的java文件，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Service(&quot;employeeService&quot;)</span><br><span class="line">public class EmployeeServiceImpl implements EmployeeService &#123;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    private EmployeeDao employeeDao;</span><br><span class="line"></span><br><span class="line">    @Transactional(rollbackFor = &#123;Exception.class,RuntimeException.class&#125;)</span><br><span class="line">    @Override</span><br><span class="line">    public Employee getEmployee(Integer id) &#123;</span><br><span class="line">        return employeeDao.getEmployee(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Transactional(rollbackFor = &#123;Exception.class,RuntimeException.class&#125;)</span><br><span class="line">    @Override</span><br><span class="line">    public void saveEmployee(Employee employee) &#123;</span><br><span class="line">        employeeDao.saveEmployee(employee);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>17.在java中，创建com.chanchifeng.service.EmployeeService的java文件，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface EmployeeService &#123;</span><br><span class="line">    Employee getEmployee(Integer id);</span><br><span class="line">    void saveEmployee(Employee employee);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>18.创建Mysql的数据库，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE webapp;</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `department`;</span><br><span class="line">CREATE TABLE `department`  (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `departmentName` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`) USING BTREE</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `employee`;</span><br><span class="line">CREATE TABLE `employee`  (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `lastName` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,</span><br><span class="line">  `email` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,</span><br><span class="line">  `birth` timestamp(0) NULL DEFAULT NULL,</span><br><span class="line">  `createTime` timestamp(0) NULL DEFAULT NULL,</span><br><span class="line">  `department_id` int(11) NULL DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`) USING BTREE,</span><br><span class="line">  INDEX `FKbejtwvg9bxus2mffsm3swj3u9`(`department_id`) USING BTREE,</span><br><span class="line">  CONSTRAINT `FKbejtwvg9bxus2mffsm3swj3u9` FOREIGN KEY (`department_id`) REFERENCES `department` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>19.配置idea中的数据库信息，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/10.png" alt=""></p>
<p>20.选择项目，点击键盘F4,弹出Project Structure，在Modules中，选择+，选择Hibernate,如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/12.png" alt=""></p>
<p>21.在弹出Project Structure，在Modules中，选择Spring，点击+号的按钮,如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/13.png" alt=""></p>
<p>22.勾选applicationContext.xml文件，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/14.png" alt=""></p>
<p>23.点击idea左侧的Persistence,如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/15.png" alt=""></p>
<p>24.选中ssh webapp2，右击，选择Generate Persistence Mapping 的By Database Schema，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/16.png" alt=""></p>
<p>25.配置Hibernate对应model的信息，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/17.png" alt=""></p>
<p>26.点击确认，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/18.png" alt=""></p>
<p>27.生成完毕，可以见如下图，出现hibernate映射的model和applicationContext.xml多了property的配置，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/19.png" alt=""></p>
<p>28.配置Tomcat，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/20.png" alt=""></p>
<p>29.点击+号，选择Tomcat Server ，选择Local，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/21.png" alt=""></p>
<p>30.在Deployment中点击+号，选择ssh-webapp2:war，如下图：</p>
<p><img src="/2019/04/09/ssh-maven-install/22.png" alt=""></p>
<p>31.运行项目，在浏览器中输入：<a href="http://localhost:8080/ssh-webapp/employee_m1，如下图：" target="_blank" rel="noopener">http://localhost:8080/ssh-webapp/employee_m1，如下图：</a></p>
<p><img src="/2019/04/09/ssh-maven-install/23.png" alt=""></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2019-04-09</span><i class="fa fa-tag"></i></div></div></div></div><div class="cc"><a href="http://creativecommons.org/licenses/by-sa/4.0/"><img src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a></div><div class="cc_tips">本作品采用<a href="http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a>进行许可。</div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/2019/03/13/networkProtocol-basic/" title="网络协议 - 基础知识点">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>